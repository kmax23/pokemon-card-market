<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Poké Stock Market</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const supabaseUrl = "https://qptdfdlkrifcombblzaw.supabase.co";
        const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFwdGRmZGxrcmlmY29tYmJsemF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwOTA1NTEsImV4cCI6MjA3MjY2NjU1MX0.uEasItbNGXXNwl5bb_8YHYgaUkh9rUC9chfisMaaA-o";
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <meta name='impact-site-verification' value='6e1b4ff6-9dda-4113-aa8a-dac77a4533b6'>
</head>

<body>
    <!-- Top Bar / Index -->
    <header id="navbar">
        <div class="container">
            <div id="logo">
                <h1>Poké Stock Market</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#cards">Cards</a></li>
                    <li><a href="#sets">Sets</a></li>
                    <li><a href="#sealed">Sealed Products</a></li>
                </ul>
            </nav>

            <!-- Dark/Light toggle-->
            <button id="themeToggle">Dark</button>

            <!-- Search bar -->
            <div id="navbarSearch">
                <input type="text" id="navbarSearchInput" placeholder="Search cards or sets...">
                <button id="searchBtn">Search</button>
            </div>
        </div>
    </header>

    <!-- Top Movers Section -->
    <section id="topMovers" class="grid">
        <!-- Gainers -->
        <div>
            <h2>Top Gainers</h2>
            <div id="topGainers"></div>
        </div>
        <!-- Losers -->
        <div>
            <h2>Top Losers</h2>
            <div id="topLosers"></div>
        </div>
    </section>

    <!-- All Cards + Chart Section -->
    <section id="allCardsSection" style="margin-top: 40px; display: grid; grid-template-columns: 2fr 1fr; gap: 30px;">

        <!-- Left: Card List -->
        <div id="allCards">
            <h2>All Cards</h2>
            <div style="display: flex; gap: 20px; margin-bottom: 15px;">
                <input type="text" id="cardSearch" placeholder="Search cards..." style="flex: 1; padding: 5px;">
                <input type="text" id="setSearch" placeholder="Search sets..." style="flex: 1; padding: 5px;">
            </div>

            <table id="cardTable">
                <thead>
                    <tr>
                        <th>Card</th>
                        <th>Set</th>
                        <th>Price</th>
                        <th>Change %</th>
                        <th>Trend</th>
                        <th>Buy</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Populated by JS -->
                </tbody>
            </table>
        </div>

        <!-- Right: Hover Chart -->
        <div id="hoverChartContainer">
            <h3>Price History</h3>
            <canvas id="hoverChart"></canvas>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>